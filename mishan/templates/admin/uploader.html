{% extends 'admin/master.html' %}

{% block main %}
    {% ifequal request.GET.error 'allfieldsreq' %}<p class='error'>All fields are required</p>{% endifequal %}
    {% ifequal request.GET.error 'nofiles' %}<p class='error'>Provide file to upload</p>{% endifequal %}
    {% ifequal request.GET.error 'exists' %}<p class='error'>File with same name exists</p>{% endifequal %}

    {% ifequal request.GET.msg 'success' %} <p class="success">Successfully uploaded the file, Visit documents page to see the uploaded file.. </p> {% endifequal %}
    {% ifequal request.GET.msg 'removed' %} <p class="success">Successfully removed the file. </p> {% endifequal %}
    <ul>
    <h2>Uploaded Files</h2>
    {% for f in filelist %}
        <li>{{f.filename}} (<a href="/admin/removefile?id={{f.id}}">remove</a>)</li>
    {% endfor %}
    </ul>

    <h2>Upload a new file</h2>
    <form method="post" enctype="multipart/form-data">
        <input type="hidden" name="type" value="DOCUMENT" />
        <table>
            <tr>
                <td>File</td>
                <td><input type="file" name="ifile_1" /></br/>
                    <input type="file" name="ifile_2" /><br/>
                    <input type="file" name="ifile_3" /><br/>
                    <input type="file" name="ifile_4" /><br/>
                    <input type="file" name="ifile_5" /><br/>
                </td>
            </tr>
            <tr>
                <!--td>Type</td>
                <td>
                    <select name="type">
                        <option value="DOCUMENT">Document</option>
                        <option value="IMAGE">Image</option>
                    </select>
                </td-->
            </tr>
            <tr>
                <td>Description</td>
                <td><textarea name="description"></textarea></td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="Upload" /></td>
            </tr>
        </table>
    </form>
{% endblock %}
